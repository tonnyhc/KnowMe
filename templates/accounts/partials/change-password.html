{% extends 'accounts/settings.html' %}

{% block settings_content %}
    <div>
        <div class="upper d-flex justify-content-center mt-3 align-items-center">
            <div>
                {% if request.user.profile.picture %}
                    <img src="/media/{{ request.user.profile.picture }}"
                         style="width: 75px; height: 75px; border-radius: 50%;">
                {% else %}
                    <img src="/media/profile_pics/base_profile_pic.png"
                         style="width: 75px; height: 75px; border-radius: 50%;">
                {% endif %}
            </div>
            <div>
                <span style="font-size: 22px; font-weight: 600" class="ms-3">{{ request.user.username }}</span>
            </div>
        </div>
        <form class="d-flex flex-column justify-content-center align-items-center" style="height: 100%"
              method="post" action="{% url 'change password' %}">
            {{ form.old_password.errors }}
            <div class="d-flex justify-content-center mb-3" style="width: 100%">
                <label class="me-4" for="id_old_password">Old Password:</label>
                {{ form.old_password }}

            </div>
            <div class="d-flex justify-content-center mb-3" style="width: 100%">
                <label class="me-4" for="id_new_password1">New Password:</label>
                {{ form.new_password1 }}
            </div>
            <div class="d-flex justify-content-center mb-3" style="width: 100%">
                <label class="me-5" for="id_new_password2">Repeat New:</label>
                {{ form.new_password2 }}
            </div>
            {{ form.new_password2.errors }}
            <button type="submit">Submit</button>
            {% csrf_token %}
        </form>
    </div>

    {#    {{ form }}#}
{% endblock %}